/* ==== THEME Clean v1 (2025-08-16) =================================== */
/* 變數集中設定 */
:root{
  --color-background: #F1F2F2;
  --color-foreground: #C14420;   /* 內文本色 */
  --font-main: 'Source Serif Pro', 'Noto Serif TC', serif; /* 正文 */
  --font-heading: 'Poppins', 'Noto Serif TC', serif; /* 標題 */
  --content-width: 826px;

  --heading-color: #233B5E;      /* 標題與導覽靛藍 */
  --accent: #C14420;             /* 強調／active 色 */
  --link: #007cba;               /* 連結色 */

  /* 分類 tag 用到的柔色膠囊 */
  --pill-bg: #EAF0F8;
  --pill-bg-hover: #DCE7F3;
  --pill-border: #C8D7EE;
  --pill-border-hover: #A9C3E4;
}

/* 基礎版面與 Reset */
html { box-sizing: border-box; }
*, *::before, *::after { box-sizing: inherit; }

body {
  font-family: var(--font-main);
  font-size: 16px; line-height: 1.6;
  color: var(--color-foreground);
  background: var(--color-background);
  width: min(100%, var(--content-width));
  margin: 0 auto;
  padding: 2rem;
  word-break: break-word;
}
@media (max-width: 640px){ body { padding: 1rem; } }

img, video, iframe { max-width: 100%; height: auto; display: block; }
pre, code { white-space: pre-wrap; word-break: break-word; }

/* 文字與標題 */
h1, h2, h3, h4, h5, h6 { color: var(--heading-color); font-weight: bold; }
a { color: var(--link); text-decoration: none; }
a:hover { text-decoration: underline; }

/* Header */
header { text-align: center; margin-bottom: 3rem; }
header h1 { font-size: 2.5rem; font-weight: 700; margin: 0; }
header h1 a {
  color: var(--heading-color);
  text-decoration: none;
  position: relative;
  transition: color .25s;
}
header h1 a::after{
  content:"";
  position:absolute; left:0; bottom:-6px;
  height:2px; width:100%;
  background: var(--accent);
  transform: scaleX(0);
  transform-origin:left;
  transition: transform .25s;
  border-radius:999px;
}
header h1 a:hover{ color: var(--accent); }
header h1 a:hover::after{ transform: scaleX(1); }
header .subtitle { font-size: 1.1rem; color:#666; margin-top:.5rem; }
/* 不要 header/nav 的預設底線 */
header a:hover, .navbar a:hover { text-decoration: none; }


/* ==== Navbar：玻璃膠囊 + 左右分區（最終版） ==== */
.navbar{
  position: sticky; top: 14px; z-index: 1000;
  display: flex; align-items: center; justify-content: space-between;

  /* 玻璃膠囊外觀 */
  backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
  background-color: rgba(255,255,255,0.6);
  border-radius: 999px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);

  /* 關鍵：要有寬度才分得開左右 */
  width: 100%;
  max-width: var(--content-width);
  margin: 0 auto 2.5rem;
  padding: .55rem .9rem;
}

/* 左側清單 */
.nav-left ul{
  list-style: none; margin: 0; padding: 0;
  display: flex; align-items: center; gap: 1.1rem;
}
.nav-left li{ list-style: none; }
.nav-left a{
  color: var(--heading-color);
  font-weight: 600; font-size: 1rem;
  text-decoration: none;
  padding: .35rem .5rem; border-radius: 8px;
  transition: color .22s ease, transform .22s ease, background-color .22s ease;
}
.nav-left a:hover{
  color: var(--accent);
  transform: scale(1.06);
  background: rgba(0,0,0,.04);
}
.nav-left a.active{
  color: var(--accent); font-weight: 700;
  background: rgba(193,68,32,.10); /* #C14420 的淡底 */
}

/* 右側放大鏡 */
.nav-right a{ display:inline-block; padding: .25rem; border-radius: 8px; }
.nav-right a:hover{ background: rgba(0,0,0,.04); }
.nav-right a img.icon{
  width: 20px; height: 20px; max-width: none;
  display: inline-block; vertical-align: middle;
  transition: transform .2s ease, opacity .2s ease;
}
.nav-right a:hover img.icon{ transform: scale(1.12); opacity: .85; }

/* 行動版微調 */
@media (max-width:640px){
  .navbar{ padding: .45rem .7rem; }
  .nav-left ul{ gap: .85rem; }
}


/* 文章列表 */
.post-list { list-style:none; padding:0; margin:0; }
.post-item { display:flex; align-items:center; gap:1rem; margin:1.25rem 0; }
.thumb-wrap { display:block; flex-shrink:0; line-height:0; border-radius:10px; overflow:hidden; }
.post-thumb { width:240px; height:160px; object-fit:cover; border-radius:10px; }
.post-info { flex:1; min-width:0; }
.post-title { margin:0 0 .25rem; font-size:1.2rem; line-height:1.35; }
.post-title a { color: var(--color-foreground); font-weight:700; text-decoration:none; }
.post-title a:hover { text-decoration: underline; }
.post-date { display:inline-block; font-size:.9rem; color:#999; margin-bottom:.35rem; }
.post-excerpt { margin:0; color:#333; line-height:1.6; }
@media (max-width:640px){
  .post-item{ flex-direction:column; align-items:flex-start; }
  .post-thumb{ width:100%; height:180px; }
}

/* 文章頁封面 */
.post-hero {
  margin: 2rem 0 2.5rem;   /* 上方 2rem，下方 2.5rem */
  border-radius: 10px;
  overflow: hidden;
}
.post-hero img {
  width: 100%;
  height: 280px;
  object-fit: cover;
}
@media (max-width: 640px) {
  .post-hero {
    margin: 1.5rem 0 2rem;     /* 首圖上下留白縮小一點 */
  }
  .post-hero img {
    height: 200px;             /* 手機版圖片高度維持原本設定 */
  }
  .post-body {
    margin-top: 1.5rem;        /* 內文上下留白也縮小一點 */
    margin-bottom: 1.5rem;
  }
}

/* 內文區塊與前後留白 */
.post-body {
  margin-top: 2rem;   /* 內文和首圖之間拉開距離 */
  margin-bottom: 2rem;
}


/* 文章內 H2 細下線（更克制、論文感） */
.post h2{
  border: none; padding: 0; position: relative;
  margin: 2.25rem 0 1.1rem;
  font-weight: 700; font-size: 1.45rem; color: var(--heading-color);
}
.post h2::after{
  content:""; display:block; width: 44px; height: 2px;
  background: var(--accent);
  margin-top: .4rem; border-radius: 2px;
}


/* 讓 h3 比 h2 再輕一階，維持層次 */
.post h3{
  margin: 1.6rem 0 .7rem;
  font-size: 1.15rem; font-weight: 700; color: var(--heading-color);
}

.post p.drop-cap{ margin-top: .25rem; } /* 與 Drop Cap 相容的小距離 避免貼太近 */


/* 目錄條（左邊細線） */
.tax-list{ list-style:none; padding:0; margin:.5rem 0 2rem;
  display:flex; flex-direction:column; gap:.4rem; }
.tax-list li{ display:flex; align-items:baseline; gap:.5rem; }
.tax-list a{
  display:inline-block; padding-left:.6rem; border-left:2px solid rgba(0,0,0,.15);
  color: var(--heading-color); text-decoration:none; font-weight:600;
  transition: border-color .2s ease, color .2s ease;
}
.tax-list a:hover{ color: var(--accent); border-left-color: var(--accent); }
.tax-list .count{ color:#9aa3ad; font-size:.9rem; }



/* footer (全站最底) */
footer { text-align:center; margin-top:4rem; padding:1rem; border-top:1px solid #ccc; }

/* =================================================================== */
/* --- Closing 區塊 --- */
.post-epilogue {
  margin-top: 3rem;
  margin-bottom: 2rem;
  text-align: center;
}
.post-epilogue__stars {
  font-size: .9rem;
  color: #C14420;   /* 主色 ✦ */
  margin: 1rem 0;
}
.post-epilogue__quote {
  margin: 0 auto;
  max-width: 48ch;
  line-height: 1.75;
  color: #374151;
  font-size: 1rem;
  font-style: italic;
}
.post-epilogue__zh {
  margin-top: .5rem;
  font-style: normal;
  color: #4b5563;
  font-size: .96rem;
}

/* --- 作者資訊卡片 --- */
.author-card {
  margin-top: 1.5rem;
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: .75rem;
  background: none;
  border: none;
  padding: 0;
}
.author-card__avatar {
  width: 60px;
  height: 60px;
  object-fit: cover;
}
.author-card__avatar.is-circle { border-radius: 50%; }
.author-card__avatar.is-square { border-radius: 8px; }

.author-card__meta {
  display: flex;
  flex-direction: column;
  align-items: center;   /* 名字 + 連結置中 */
  text-align: center;
  gap: .35rem;
}
.author-card__name {
  font-variant-caps: small-caps;
  letter-spacing: .05em;
  color: #111827;
}
.author-card .middot { margin: 0 .4rem; color: #9ca3af; }

.author-card__links {
  display: flex;
  gap: 1.1rem;
  justify-content: center;
  align-items: center;
}
.author-card__links a {
  text-decoration: none; /* 去底線 */
  border: none;
  outline: none;
}
.author-card__links img.icon {
  width: 22px;
  height: 22px;
  display: block;
  transition: transform 0.2s ease, opacity 0.2s ease, filter 0.2s ease;
}
.author-card__links a:hover img.icon {
  transform: scale(1.3);   /* hover 微放大 */
  opacity: 0.85;            /* hover 微透明 */

}

/* 文章日期：灰色小字 */
.post-meta {
  color: #6b7280;
  font-size: 0.9rem;
  letter-spacing: 0.03em;
}
.post-meta em {
  font-style: normal;
  text-transform: uppercase;
}

/* 分隔線：置中，留白大一點 */
hr {
  border: none;
  border-top: 1px dotted #bbb;
  width: 50%;
  margin: 2.5em auto;  /* 上下留白比之前多 */
}

/* 文章頁的標題（單篇文章）修正字型大小 */
.post h1 {
  font-size: 2rem;       /* 調整成 2rem，比 2.5rem 小一點 */
  line-height: 1.2;       /* 緊緻一點，提高閱讀性 */
  margin-bottom: 0.6rem;  /* 標題與內文之間稍微留空間 */
  color: var(--heading-color);

}

body {
  font-family: var(--font-main);
  font-weight: 500; /* 內文 → Regular */
}

h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-heading);
  font-weight: 900; /* 標題 → Bold */
}

p.stronger {
  font-weight: 500; /* Medium，適合中文內文避免太細 */
}

/* 啟用條件：容器帶有 .dropcap-auto 才會啟用，自行可用 .no-dropcap 關閉 */
.post-body.no-dropcap { --dc-enable: 0; }
.post-body.dropcap-auto { --dc-enable: 1; }

/* 基本樣式（英文預設） */
.post-body.dropcap-auto > p:first-child::first-letter {
  /* 只有「第一個子元素就是 <p>」才會生效
     → 若第一個是 ul/ol/blockquote/img/figure/code 等，就不會套用
  */
  float: left;
  font-size: clamp(2.2rem, 6vw, 3rem);
  line-height: 1;
  margin: .06em .28rem 0 0;           /* 上、右、下、左 */
  font-weight: 700;
  color: var(--heading-color);
  /* 開關（可用 no-dropcap 關閉）*/
  content: var(--dc-enable);
}
.post-body.dropcap-auto > p:first-child {
  /* 避免第一行太擠，給一點下緣空隙 */
  margin-top: .15rem;
}

/* --- 自動「跳過」清單 / 引言 / 圖片等情境（第一個不是 <p> 就不套） --- */
/* 不需要額外寫規則，因為我們用了 > p:first-child 才會生效：
   若第一個元素是 ul/ol/blockquote/figure/img/pre/code，drop cap 自然不會套到。
*/

/* --- 繁中/簡中調校：中文比英文字寬，空隙多一點 --- */
/* 只要 <html lang="zh">、"zh-Hant"、"zh-Hans" 或文章區塊有 lang，就會吃到 */
.post-body:lang(zh), .post-body:lang(zh-Hant), .post-body:lang(zh-Hans) {
  --dc-mr: .38rem;
}
.post-body:lang(zh) > p:first-child::first-letter,
.post-body:lang(zh-Hant) > p:first-child::first-letter,
.post-body:lang(zh-Hans) > p:first-child::first-letter {
  margin-right: var(--dc-mr, .36rem);
  line-height: 1; /* 中文首字通常更方正，保守一些 */
  /* 內文字體若是 serif，更像出版物 */
}

/* --- 字體備援：內文 serif、標題保留你既有設定 --- */
/* 建議把中文備援也放進 var(--font-main) */
:root{
  /* 範例：Source Serif Pro + 中文備援 */
  --font-main: 'Source Serif Pro', 'Noto Serif TC', 'Noto Serif CJK TC', 'Source Han Serif TC', 'PingFang TC', 'Microsoft JhengHei', serif;
}


/* --- 細節優化（避免首字被陰影或動畫影響） --- */
.post-body > p:first-child::first-letter {
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

/* --- 若首段是標點（「」‘ ’等）而非文字，可用這招略過 --- */
/* 可選：若你偶爾用引號開頭且想略過，引號可單獨放 span.skip 並隱藏 */
.post-body .skip { display: none; }
